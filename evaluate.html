<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GSLAM: Evaluate a SLAM plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logosmall.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GSLAM
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Evaluate a SLAM plugin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>As most benchmarks only provide datasets with or without ground-truth for users to perform evaluations by themselves.</p>
<p>GSLAM provides a build-in plugin and script tools for both computation performance and accuracy evaluation.</p>
<div class="image">
<img src="efficiency_evaluation.png" alt="efficiency_evaluation.png"/>
<div class="caption">
Computation performance statistics of three monocular implementations integrated within the evaluation tool.</div></div>
<p> Benefit from the united interface of GSLAM, the evaluation tool can not only evaluate the accuracy but efficiency.</p>
<p>The recordings of memory usage and memory allocated numbers are started after the SLAM application loaded, and updated after every frame processed. CPU usage is updated when the process occupied CPU time increases a curtain value. Frame duration is measured by the time between current frame published and processed.</p>
<h1><a class="anchor" id="sEvaluateTrajectory"></a>
Evaluate trajectory precision</h1>
<p>For a slam plugin such as orbslam, we want to evaluate it's localization precision. GSLAM provided an application named metric_traj for evaluation when running a slam, such as running orbslam with metric_traj:</p>
<div class="fragment"><div class="line">gslam play metric_traj orbslam -ORBVocabularyFile /data/zhaoyong/Program/Apps/SLAM/<a class="code" href="namespaceGSLAM.html">GSLAM</a>-ORBSLAM/data/ORB_New.voc -dataset /data/zhaoyong/Dataset/mav0/mono.euroc -autostart -slam orbslam</div></div><!-- fragment --><p>This will save two file: 'orbslam_traj_vo.txt' and 'orbslam_traj_final.txt'. The vo trajectory subscribe topic "orbslam/curframe" and record the realtime tracking results. The final trajectory subscribes topic "orbslam/map" and outputs all keyframe poses.</p>
<h1><a class="anchor" id="sEvaluateTime"></a>
Evaluate tracking time usage</h1>
<p>Use metric_time to generate time logger file: slamname_metric_time.txt. </p><div class="fragment"><div class="line">gslam play metric_traj metric_time orbslam -ORBVocabularyFile /data/zhaoyong/Program/Apps/SLAM/<a class="code" href="namespaceGSLAM.html">GSLAM</a>-ORBSLAM/data/ORB_New.voc -dataset /data/zhaoyong/Dataset/mav0/mono.euroc -autostart -slam orbslam</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>To evaluate the time usage, the slam system is better to process dataset/frame in another thread.</dd></dl>
<h1><a class="anchor" id="sEvaluateCPU"></a>
Evaluate processing cpu usage</h1>
<p>Use metric_cpu to generate cpu usage logger such as: orbslam_metric_cpu.txt. </p><div class="fragment"><div class="line">gslam play metric_traj metric_time metric_cpu orbslam -ORBVocabularyFile /data/zhaoyong/Program/Apps/SLAM/<a class="code" href="namespaceGSLAM.html">GSLAM</a>-ORBSLAM/data/ORB_New.voc -dataset /data/zhaoyong/Dataset/mav0/mono.euroc -autostart -slam orbslam</div></div><!-- fragment --><p>Those metrics can work at the same time. Here below is the content of 'orbslam_metric_cpu.txt': </p><div class="fragment"><div class="line">1 77.7335</div><div class="line">1 77.7335</div><div class="line">2 77.7335</div><div class="line">3 77.7335</div><div class="line">4 77.7335</div><div class="line">5 166.784</div><div class="line">6 166.784</div><div class="line">7 166.784</div><div class="line">8 176.294</div><div class="line">9 176.294</div><div class="line">10 174.492</div></div><!-- fragment --><p> The first column is the frame id, the second colum is the corrosponding cpu usage.</p>
<h1><a class="anchor" id="sEvaluateMemory"></a>
Evaluate slam memory usage</h1>
<p>To moniter the memory usage, we had to use another excuable 'gslam_evaluate" instead of 'gslam':</p>
<div class="fragment"><div class="line">gslam_evaluate play metric_traj metric_time metric_cpu orbslam -ORBVocabularyFile /data/zhaoyong/Program/Apps/SLAM/<a class="code" href="namespaceGSLAM.html">GSLAM</a>-ORBSLAM/data/ORB_New.voc -dataset /data/zhaoyong/Dataset/mav0/mono.euroc -autostart -slam orbslam</div></div><!-- fragment --><p>All other things remains the same. Here is the txt content, every line contains 'id memory_in_bytes memory_slices": </p><div class="fragment"><div class="line">1 22323535 17267</div><div class="line">1 23920484 18143</div><div class="line">2 24479344 24830</div><div class="line">3 25201728 27373</div><div class="line">4 24423588 25631</div><div class="line">5 26480428 25225</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
